<section class="container">
	<div class="row g-4 align-items-center">
		<div class="col-12 col-md-4">
			<div class="bg-dark border border-secondary rounded p-3 text-center">
					<img class="img-fluid rounded" [src]="profileImg" alt="Foto de perfil" onerror="this.src='https://picsum.photos/400/400'" />
			</div>
		</div>
		<div class="col-12 col-md-8">
			<h2 class="mb-1">{{ name }}</h2>
			<span class="text-info d-inline-block mb-3">{{ title }}</span>
			<p class="text-secondary">{{ summary }}</p>

			<div class="mt-3">
				<h5 class="mb-2">Contacto</h5>
				<ul class="list-unstyled">
					@for (c of contacts; track c.label) {
						<li class="text-secondary">
							<strong class="text-light">{{ c.label }}:</strong>
							<a class="link-info" [href]="c.href" target="_blank" rel="noopener">{{ c.value }}</a>
						</li>
					}
				</ul>
 
			</div>
		</div>
	</div>

	<hr class="border-secondary my-4" />

	<div class="row g-4">
		<div class="col-12 col-lg-6">
			<h4 class="mb-3">Proyectos</h4>
			<div class="list-group">
				@for (p of projects; track p.name) {
					<a class="list-group-item list-group-item-action bg-dark border-secondary text-light" [href]="p.url" target="_blank" rel="noopener">
						<div class="d-flex w-100 justify-content-between">
							<h5 class="mb-1">{{ p.name }}</h5>
							<small class="text-secondary">Enlace</small>
						</div>
						<p class="mb-1 text-secondary">{{ p.description }}</p>
					</a>
				}
			</div>
		</div>
		<div class="col-12 col-lg-6">
			<h4 class="mb-3">Skills</h4>
			<div class="d-flex flex-wrap gap-2">
				@for (s of skills; track s) {
					<span class="badge text-bg-primary">{{ s }}</span>
				}
			</div>
		</div>
	</div>
 
	<!-- Secciones adicionales: se muestran solo si tienen contenido -->
	@if (education.length) {
		<hr class="border-secondary my-4" />
		<h4 class="mb-3">Educación</h4>
		<div class="list-group mb-3">
			@for (e of education; track e.title) {
				<div class="list-group-item bg-dark border-secondary text-light">
					<div class="d-flex w-100 justify-content-between">
						<h5 class="mb-1">{{ e.title }}</h5>
						<small class="text-secondary">{{ e.start }} - {{ e.end || 'Actual' }}</small>
					</div>
					<p class="mb-0 text-secondary">{{ e.institution }}</p>
					@if (e.details) {
						<p class="mb-0 mt-1 text-secondary">{{ e.details }}</p>
					}
				</div>
			}
		</div>
	}

	@if (experience.length) {
		<hr class="border-secondary my-4" />
		<h4 class="mb-3">Experiencia</h4>
		<div class="list-group mb-3">
			@for (x of experience; track x.role) {
				<div class="list-group-item bg-dark border-secondary text-light">
					<div class="d-flex w-100 justify-content-between">
						<h5 class="mb-1">{{ x.role }} - {{ x.company }}</h5>
						<small class="text-secondary">{{ x.start }} - {{ x.end || 'Actual' }}</small>
					</div>
					@if (x.description) {
						<p class="mb-0 text-secondary">{{ x.description }}</p>
					}
				</div>
			}
		</div>
	}

	@if (certifications.length) {
		<hr class="border-secondary my-4" />
		<h4 class="mb-3">Certificaciones</h4>
		<ul class="list-unstyled">
			@for (c of certifications; track c.name) {
				<li class="text-secondary mb-1">
					<strong class="text-light">{{ c.name }}</strong>
					<span class="ms-1">{{ c.issuer }}</span>
					<span class="ms-1">{{ c.year }}</span>
					@if (c.url) {
						<a class="link-info ms-2" [href]="c.url" target="_blank" rel="noopener">Ver</a>
					}
				</li>
			}
		</ul>
	}

	@if (languages.length) {
		<hr class="border-secondary my-4" />
		<h4 class="mb-3">Idiomas</h4>
		<div class="d-flex flex-wrap gap-2">
			@for (l of languages; track l.name) {
				<span class="badge bg-dark border border-secondary text-light">{{ l.name }} — {{ l.level }}</span>
			}
		</div>
	}

	<!-- Mapa solo en Hoja de vida -->
	<hr class="border-secondary my-4" />
	<app-map />
</section>
